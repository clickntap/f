(function(){var b=[];window.addEventListener("message",function(a){b.forEach(function(c){a.data.what==c.what&&c.callback(a.data.data,a)})},!1);f().prototype().emit=function(a){postMessage({what:this.input,data:a},document.location.href);return this};f().prototype().slot=function(a){var c=[],d=this;f(b).each(function(a){a.what!=d.input&&c.push(a)});b=c;b.push({what:this.input,callback:a});return this};f().prototype().unslot=function(){var a=[],c=this.input;f(b).each(function(b){c!=b.what&&a.push(b)});
b=a;return this};document.addEventListener("keyup",function(a){f("keyup").emit({keyCode:a.keyCode,key:a.key,shiftKey:a.shiftKey,altKey:a.altKey,composed:a.composed,ctrlKey:a.ctrlKey,metaKey:a.metaKey,repeat:a.repeat,which:a.which,type:a.type})});document.addEventListener("keydown",function(a){f("keydown").emit({keyCode:a.keyCode,key:a.key,shiftKey:a.shiftKey,altKey:a.altKey,composed:a.composed,ctrlKey:a.ctrlKey,metaKey:a.metaKey,repeat:a.repeat,which:a.which,type:a.type})})})();