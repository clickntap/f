(function(){function g(a){a=a.target;void 0!==a.stat&&void 0!==a.stat.t0&&void 0!==a.stat.t1&&a.json.stats.push(a.stat);for(var e=[],d={},c=a.json.userDuration=0;c<=a.json.duration+1;c++){var b=!1;f(a.json.stats).each(function(a){c>=a.t0&&c<=a.t1&&(b=!0)});b?void 0===d.t0?d.t0=c:d.t1=c:void 0!==d.t0&&void 0!==d.t1&&(a.json.userDuration+=d.t1-d.t0,e.push(d),d={})}a.json.percentage=(a.json.userDuration/a.json.duration*100).toFixed(2);delete a.json.userDuration;a.json.stats=e;f("videoplayer").emit({what:"pause",
      data:a.json});a.stat=void 0}var h=f().tc('  \x3cvideo playsinline [%if(model.poster){%]poster\x3d"[%\x3dposter%]"[%}%] [%if(model.muted \x3d\x3d\x3d true){%]muted[%}%] [%if(model.controls \x3d\x3d\x3d true){%]controls[%}%] [%if(model.download \x3d\x3d\x3d false){%]oncontextmenu\x3d"return false" controlsList\x3d"nodownload"[%}%]\x3e  \x3csource src\x3d"[%\x3durl%]" type\x3d"video/mp4"\x3e  \x3c/video\x3e');f().uiPlugins().push(function(a,e){f(e.div).find(".f_videoplayer").each(function(a){var c=JSON.parse(a.innerText);
      c.stats=[];var b=f(a).html(h(c)).find("video").item;b.json=c;b.stat=void 0;b.addEventListener("seeked",function(a){var c=a.target.currentTime;b.json.time=Math.floor(a.target.currentTime);void 0!==b.stat&&void 0!==b.stat.t0&&(void 0===b.stat.t1||2>Math.abs(b.stat.t1-c))&&(b.stat.t1=Math.floor(a.target.currentTime));f("videoplayer").emit({what:"seek",data:b.json})},!0);b.addEventListener("timeupdate",function(a){var c=a.target.currentTime;b.json.time=Math.floor(a.target.currentTime);void 0!==b.stat&&
    void 0!==b.stat.t0&&(void 0===b.stat.t1||2>Math.abs(b.stat.t1-c))&&(b.stat.t1=Math.floor(a.target.currentTime));f("videoplayer").emit({what:"time",data:b.json})},!0);b.addEventListener("durationchange",function(a){c.duration=Math.floor(a.target.duration);!0===c.autoplay&&b.play();f("videoplayer").emit({what:"duration",data:b.json})},!0);b.addEventListener("play",function(a){b.stat={t0:Math.floor(a.target.currentTime)}},!0);b.addEventListener("pause",g,!0);b.addEventListener("ended",g,!0);f(a).removeClass("f_videoplayer").addClass("f-videoplayer")});
a(e)})})();