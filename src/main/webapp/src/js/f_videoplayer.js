(function(){var templatevideoplayer=f().tc('  \x3cvideo playsinline [%if(model.pip \x3d\x3d\x3d false){%]disablePictureInPicture[%}%] [%if(model.poster ){%]poster\x3d"[%\x3dposter%]"[%}%] [%if(model.muted \x3d\x3d\x3d true){%]muted[%}%] [%if(model.controls \x3d\x3d\x3d true){%]controls[%}%] [%if(model.download \x3d\x3d\x3d false){%]oncontextmenu\x3d"return false" controlsList\x3d"nodownload "[%}%]\x3e  \x3csource src\x3d"[%\x3durl%]" type\x3d"video/mp4"\x3e  \x3c/video\x3e');function onPause(event){var video=
    event.target;if(video.stat!==undefined&&video.stat.t0!==undefined&&video.stat.t1!==undefined)video.json.stats.push(video.stat);var items=[];var item={};video.json.userDuration=0;for(var i=0;i<=video.json.duration+1;i++){var viewed=false;f(video.json.stats).each(function(stat){if(i>=stat.t0&&i<=stat.t1)viewed=true});if(viewed)if(item.t0===undefined)item.t0=i;else item.t1=i;else if(item.t0!==undefined&&item.t1!==undefined){video.json.userDuration+=item.t1-item.t0;items.push(item);item={}}}video.json.percentage=
    (video.json.userDuration/video.json.duration*100).toFixed(2);delete video.json.userDuration;video.json.stats=items;f("videoplayer").emit({what:"pause",data:video.json});video.stat=undefined}var plugin=function(resolve,context){f(context.div).find(".f_videoplayer").each(function(item){var json=JSON.parse(item.innerText);json.stats=[];var video=f(item).html(templatevideoplayer(json)).find("video").item;video.json=json;video.stat=undefined;video.addEventListener("seeked",function(event){var t=event.target.currentTime;
        video.json.time=Math.floor(event.target.currentTime);if(video.stat!==undefined&&video.stat.t0!==undefined&&(video.stat.t1===undefined||Math.abs(video.stat.t1-t)<2))video.stat.t1=Math.floor(event.target.currentTime);f("videoplayer").emit({what:"seek",data:video.json})},true);video.addEventListener("timeupdate",function(event){var t=event.target.currentTime;video.json.time=Math.floor(event.target.currentTime);if(video.stat!==undefined&&video.stat.t0!==undefined&&(video.stat.t1===undefined||Math.abs(video.stat.t1-
      t)<2))video.stat.t1=Math.floor(event.target.currentTime);f("videoplayer").emit({what:"time",data:video.json})},true);video.addEventListener("durationchange",function(event){json.duration=Math.floor(event.target.duration);if(json.autoplay===true)video.play();console.log(f(item).addClass("on"));f("videoplayer").emit({what:"duration",data:video.json})},true);video.addEventListener("play",function(event){video.stat={t0:Math.floor(event.target.currentTime)}},true);video.addEventListener("pause",onPause,
true);video.addEventListener("ended",onPause,true);f(item).removeClass("f_videoplayer").addClass("f-videoplayer")});resolve(context)};f().uiPlugins().push(plugin)})();