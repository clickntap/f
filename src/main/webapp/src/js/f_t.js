(function(){function m(a,d){d||(d={delimiters:["[%","%]"],comments:!0});if(!0===d.comments){var g="";a.split("\n").forEach(function(a){0!=a.trim().indexOf("//")&&(g+=a+"\n")});a=g;for(var b;0<=(b=a.indexOf("/*"));){var h=a.indexOf("*/",b);a=a.substring(0,b)+a.substring(h+2)}for(;0<=(b=a.indexOf("\x3c!--"));)h=a.indexOf("--\x3e",b),a=a.substring(0,b)+a.substring(h+3)}for(b=0;0<=(b=a.indexOf("\x3cscript name\x3d",b));){b=a.indexOf("\x3e",b)+1;h=a.indexOf("\x3c/script\x3e",b);var c=a.substring(b,h);
      c=c.split(d.delimiters[0]).join(l[0]);c=c.split(d.delimiters[1]).join(l[1]);a=a.substring(0,b)+c+a.substring(h)}for(c='(function(model){if(model)for(var key in model) eval("var "+key+"\x3dmodel."+key);var _\x3d"";';0<=(b=a.indexOf(d.delimiters[0]));){h=a.indexOf(d.delimiters[1],b);var e=JSON.stringify(a.substring(0,b));'""'!=e&&(c+="_+\x3d"+e+";");e=a.substring(b+2,h);"\x3d"==e.charAt(0)?(e=e.substring(1),c+="_+\x3d "+e+";"):""!=e&&(c+=e+";");a=a.substring(h+2)}c+="_+\x3d"+JSON.stringify(a)+";";c+=
      "return _;});\n";try{c=c.split(l[0]).join(d.delimiters[0]),c=c.split(l[1]).join(d.delimiters[1])}catch(p){}return eval(c)}function n(a,d,g,b,h,c,e){f().http({url:a,headers:d,onsuccess:function(a){a=JSON.parse(a.target.responseText);f().app().set(b,a);k[g]?setTimeout(function(){var a=k[g],b=f().appSession();h&&(b=f().app().get(h));a=f(a).t(b);f(c).html(a);e&&f(e.div).uiRender(e.callback)},0):f().http({url:g,headers:{pragma:"no-cache","Cache-Control":"no-cache"},onsuccess:function(a){a=a.target.responseText;
      k[g]=a;var b=f().appSession();h&&(b=f().app().get(h));a=f(a).t(b);f(c).html(a);e&&f(e.div).uiRender(e.callback)}})}})}var l=["~{~","~}~"],k={};f().prototype().tc=m;f().prototype().t=function(a,d){return a?m(this.input,d)(a):{render:m(this.input,d)}};f().uiPlugins().push(function(a,d){var g=f(d.div).find(".f_t").item;if(g){f(g).removeClass("f_t").addClass("f-t");var b=g.getAttribute("data-resource"),h=g.getAttribute("data-service");a=g.getAttribute("data-secure");var c=g.getAttribute("data-model"),
e=g.getAttribute("data-target");h?"true"==a?f().api(function(a){n(h,a,b,c,e,g,d)},g.getAttribute("data-channel")):n(h,{},b,c,e,g,d):k[b]?setTimeout(function(){var a=k[b],c=f().appSession();e&&(c=f().app().get(e));a=f(a).t(c);f(g).html(a);f(d.div).uiRender(d.callback)},0):f().http({url:b,onsuccess:function(a){a=a.target.responseText;k[b]=a;var c=f().appSession();e&&(c=f().app().get(e));a=f(a).t(c);f(g).html(a);f(d.div).uiRender(d.callback)}})}else a(d)})})();