(function(){function h(a){d=void 0;f(a.target).addClass("f-drag")}function k(a){var c=f(".f-drag").closest(".f-draggable").item;d?f("drag").emit({from:JSON.parse(JSON.stringify(c.dataset)),to:JSON.parse(JSON.stringify(d.dataset))}):f("drag").emit({from:JSON.parse(JSON.stringify(c.dataset))});f(a.target).removeClass("f-drag");f(".f-droparea-after").removeClass("on");f(".f-droparea-before").removeClass("on");f(".f-drop").removeClass("f-drop");a.preventDefault()}function l(a){e(a);var c=f(".f-drag").closest(".f-draggable").item,
    b=f(a.target).closest(".f-draggable").item;b.dataset.drop?(a=b.dataset.drop.split(","),f(a).each(function(a){c.dataset.what==a&&(c.dataset.id!=b.dataset.id&&c.dataset.what==b.dataset.what||c.dataset.what!=b.dataset.what)&&(d=b,f(b).addClass("f-drop"),b.dataset.type="drop")})):c.dataset.what==b.dataset.what&&(c.dataset.id!=b.dataset.id&&(d=b,a=c.compareDocumentPosition(b),a&Node.DOCUMENT_POSITION_PRECEDING&&f(b.parentElement).find(".f-droparea-before").addClass("on"),a&Node.DOCUMENT_POSITION_FOLLOWING&&
    f(b.parentElement).find(".f-droparea-after").addClass("on")),b.dataset.type="drag")}function m(a){e(a);var c=f(".f-drag").closest(".f-draggable").item,b=f(a.target).closest(".f-droppable").item;b.dataset.drop&&(a=b.dataset.drop.split(","),f(a).each(function(a){c.dataset.what==a&&(c.dataset.id!=b.dataset.id&&c.dataset.what==b.dataset.what||c.dataset.what!=b.dataset.what)&&(d=b,f(b).addClass("f-drop"),b.dataset.type="drop")}))}function e(a){d=void 0;f(".f-droparea-after").removeClass("on");f(".f-droparea-before").removeClass("on");
    f(".f-drop").removeClass("f-drop")}function g(a){a.preventDefault()}var d=void 0;f().uiOnReadyPlugins().push(function(){f(".f-draggable").each(function(a){var c=f(a);c.hasClass("f-draggable-ok")||(c.addClass("f-draggable-ok"),a.setAttribute("draggable","true"),a.addEventListener("dragstart",h,!1),a.addEventListener("dragend",k,!1),a.addEventListener("dragenter",l,!1),a.addEventListener("dragover",g,!1))});f(".f-droppable").each(function(a){var c=f(a);c.hasClass("f-droppable-ok")||(c.addClass("f-droppable-ok"),
a.addEventListener("dragenter",m,!1),a.addEventListener("dragover",g,!1))})})})();