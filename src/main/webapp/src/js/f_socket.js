(function(){function d(a){b=new WebSocket(a.url);if(a.open)f(b).on("open",a.open);if(a.message)f(b).on("message",a.message);if(a.close)f(b).on("close",a.close);else if(a.error)f(b).on("error",a.error);else f(b).on("error",function(b){clearTimeout(c);c=setTimeout(function(){d(a)},1E3)}),f(b).on("close",function(b){clearTimeout(c);c=setTimeout(function(){d(a)},1E3)})}var b=0,c=0;f().prototype().socket=function(a){d(a);return this}})();