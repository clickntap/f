(function(){function h(a){for(var e=a.div,c=a.callback,b,d=0;d<g.length;d++)b=0==d?new Promise(function(a,b){g[d](a,{div:e,i:0,callback:c})}):b.then(function(a){return new Promise(function(b,c){g[++a.i](b,a)})});b.then(function(a){var b=!0;f('[class^\x3d"f__"]').each(function(a){b=!1;a.classList.forEach(function(b){0==b.indexOf("f__")&&(a.classList.remove(b),a.classList.add(b.replace("f__","f_")))})});b?(c(),f().uiReady()):h(a)})}function l(a,e,c){var b=document.createElement("div");b.classList.add("f_");
  document.body.appendChild(b);f(b).html(e);h({div:b,callback:function(){for(f(a).html("");0<b.childNodes.length;)a.appendChild(b.childNodes[0]);try{b.parentElement.removeChild(b)}catch(d){}if(c.onready)c.onready()}})}var n={},m={};n={pragma:"no-cache","Cache-Control":"no-cache"};var g=[],k=[];f().prototype().uiReady=function(){for(var a=0;a<k.length;a++)k[a]()};f().prototype().uiRender=function(a){h({div:this.item,callback:a})};f().prototype().uiPlugins=function(){return g};f().prototype().uiOnReadyPlugins=
  function(){return k};f().prototype().uiPlugin=function(a,e,c){g.push(function(b,c){var d=f(c.div).find(".f_"+a).item;d?(eval("var json \x3d"+d.innerText),json.onready=function(){h(c)},f(d).addClass("f-"+a),e(d,json),f(d).removeClass("f_"+a)):b(c)});c&&k.push(c)};f().prototype().ui=function(a){a=a||{};if(this.item)this.items.forEach(function(b){l(b.parentElement,b.parentElement.innerHTML,a)});else if(a.url)m[a.url]?setTimeout(function(){var b=m[a.url];b=f(b).t(f().appSession());l(f(a.target).item,
b,a)},0):f().http({url:a.url,headers:n,onsuccess:function(b){b=b.target.responseText;m[a.url]=b;b=f(b).t(f().appSession());l(f(a.target).item,b,a)}});else{var e=f(a.target).item,c=e.getAttribute("data-resource");c&&this.ui({url:c,target:e,onready:a.onready?a.onready:function(){}})}return this}})();