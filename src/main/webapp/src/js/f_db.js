(function(){var c;f().prototype().db=function(a,b){var d=window.indexedDB.open(this.input);d.onsuccess=function(a){c=a.target.result;b(a)};d.onupgradeneeded=function(b){c=b.target.result;f(a).each(function(a){c.createObjectStore(a.name,{keyPath:a.key})})};return this};f().prototype().dbDelete=function(a,b){c.transaction([a],"readwrite").objectStore(a)["delete"](b);return this};f().prototype().dbGet=function(a,b,d){c.transaction([a],"readonly").objectStore(a).get(b).onsuccess=function(a){d(a.target.result)};
return this};f().prototype().dbList=function(a,b){var d=[];c.transaction([a],"readonly").objectStore(a).openCursor().onsuccess=function(a){(a=a.target.result)?(d.push(a.value),a["continue"]()):b(d)};return this};f().prototype().dbPut=function(a,b){c.transaction([a],"readwrite").objectStore(a).put(b);return this}})();