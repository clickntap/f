(function(){function k(a,b,d){f().app().set("datepicker."+b.name,b);f(a).html(l({data:b}));"function"==typeof d&&d(a)}var l=f().tc('[%var today \x3d new Date();var viewDate \x3d new Date(data.viewDate);var defaultDate \x3d data.defaultDate ? new Date(data.defaultDate) : null;var minDate \x3d data.minDate ? new Date(data.minDate) : null;var maxDate \x3d data.maxDate ? new Date(data.maxDate) : null;var monthMonday \x3d new Date(viewDate).getMonthMonday();var weekday \x3d new Date(viewDate).getStartOfWeek();var day \x3d new Date(monthMonday);%]\x3cdiv class\x3d"[%\x3ddata.name%]"\x3e\t\x3cdiv class\x3d"ui-row mobile ui-datepicker-toolbar"\x3e\t\t\x3cdiv class\x3d"ui-column ui-column-fit ui-datepicker-prev"\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'prev\'})"\x3e\t\t\t\x3ci class\x3d"fas fa-chevron-left"\x3e\x3c/i\x3e\t\t\x3c/div\x3e\t\t\x3cdiv class\x3d"ui-column ui-datepicker-today"\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'today\'})"\x3e\t\t\t[%\x3dviewDate.format({month:\'long\',year:\'numeric\'})%]\t\t\x3c/div\x3e\t\t\x3cdiv class\x3d"ui-column ui-column-fit ui-datepicker-next"\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'next\'})"\x3e\t\t\t\x3ci class\x3d"fas fa-chevron-right"\x3e\x3c/i\x3e\t\t\x3c/div\x3e\t\x3c/div\x3e\t\x3cdiv class\x3d"ui-datepicker"\x3e\t\t\x3cdiv class\x3d"ui-datepicker-row"\x3e\t\t[%for(var j\x3d1; j\x3c\x3d 7; j++){%]\t\t\x3cdiv class\x3d"ui-datepicker-column"\x3e\t\t\t\x3cdiv class\x3d"ui-weekday"\x3e[%\x3d weekday.format({weekday:\'short\'}) %]\x3c/div\x3e\t\t\x3c/div\x3e\t\t[% weekday.tomorrow(); %]\t\t[%}%]\t\x3c/div\x3e\t[%for(var i\x3d1; i\x3c\x3d6; i++){%]    \x3cdiv class\x3d"ui-datepicker-row"\x3e        [%for(var j\x3d1; j\x3c\x3d 7; j++){%]        \x3cdiv class\x3d"ui-datepicker-column[%if(day.format({}) \x3d\x3d today.format({})){%] ui-today[%}%][%if(defaultDate \x26\x26 day.format({})\x3d\x3ddefaultDate.format({})){%] ui-selected[%}%][%if(day.format({month:\'numeric\',year:\'numeric\'})\t\t\t\t!\x3dviewDate.format({month:\'numeric\',year:\'numeric\'})){%] ui-disable[%}%] [%if((maxDate !\x3d null \x26\x26 maxDate.getTime() \x3c\x3d day.getTime()) || (minDate !\x3d null \x26\x26 minDate.getTime() \x3e\x3d day.getTime())){%] ui-disable ui-event-none[%}%]"\x3e\t\t\t\t\x3cdiv class\x3d"ui-day"\t\t\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'select\',value:\'[%\x3dday.toISOString()%]\'})"\x3e\t\t\t\t\t[%\x3d day.getDate() %]\t\t\t\t\x3c/div\x3e\t\t\x3c/div\x3e\t\t[% day.tomorrow(); %]\t\t[%}%]\t\x3c/div\x3e\t[%}%]\x3c/div\x3e\x3c/div\x3e');
  f().prototype().datepicker=function(a,b){b=b||{};if(a.constructor==={}.constructor){var d=this;f(".f-datepicker ."+a.channel).each(function(b){var c=f().app().get("datepicker."+a.channel);if("prev"==a.what){var h=new Date(c.viewDate);c.viewDate=h.prevMonth().toISOString()}"next"==a.what&&(h=new Date(c.viewDate),c.viewDate=h.nextMonth().toISOString());"today"==a.what&&(c.viewDate=(new Date).toISOString());"defaultDate"==a.what&&(c.defaultDate=a.value,c.viewDate=a.value);"viewDate"==a.what&&(c.viewDate=
        a.value);if("select"==a.what){c.defaultDate=a.value;c.viewDate=a.value;try{var g=f(b).closest(".f-form-item");if(0!=g.items.length){var e=new Date(a.value);e.setHours(12);e.setMinutes(0);e.setSeconds(0);g.find(".f-form-input-day").html(e.getDate());g.find(".f-form-input-month").html(e.getMonth()+1);g.find(".f-form-input-year").html(e.getFullYear());g.find(".f-form-input-hour").html(e.getHours());g.find(".f-form-input-minute").html(e.getMinutes());g.find(".f-form-datepicker-clean").removeClass("hide");
    f(b).closest(".f-form-box-datepicker").addClass("hide");f(b).closest(".form-modal").removeClass("form-modal-datepicker");d.input.stopImmediatePropagation()}}catch(m){}f("datepicker").emit(a)}k(b.parentElement,c)})}else b.viewDate||(b.viewDate=(new Date).toISOString()),b.defaultDate&&(b.viewDate=b.defaultDate),k(a,b,b.onready);return this};f().uiPlugins().push(function(a,b){var d=f(b.div).find(".f_datepicker").item;d?(a=JSON.parse(d.innerText),a.onready=function(){f(b.div).uiRender(b.callback)},f(d).addClass("f-datepicker").datepicker(d,
a).removeClass("f_datepicker")):a(b)})})();