(function(){var templatedatepicker=f().tc('[%var today \x3d new Date();var viewDate \x3d new Date(data.viewDate);var defaultDate \x3d data.defaultDate ? new Date(data.defaultDate) : null;var minDate \x3d data.minDate ? new Date(data.minDate) : null;var maxDate \x3d data.maxDate ? new Date(data.maxDate) : null;var monthMonday \x3d new Date(viewDate).getMonthMonday();var weekday \x3d new Date(viewDate).getStartOfWeek();var day \x3d new Date(monthMonday);%]\x3cdiv class\x3d"[%\x3ddata.name%]"\x3e\t\x3cdiv class\x3d"ui-row mobile ui-datepicker-toolbar"\x3e\t\t\x3cdiv class\x3d"ui-column ui-column-fit ui-datepicker-prev"\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'prev\'})"\x3e\t\t\t\x3ci class\x3d"fas fa-chevron-left"\x3e\x3c/i\x3e\t\t\x3c/div\x3e\t\t\x3cdiv class\x3d"ui-column ui-datepicker-today"\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'today\'})"\x3e\t\t\t[%\x3dviewDate.format({month:\'long\',year:\'numeric\'})%]\t\t\x3c/div\x3e\t\t\x3cdiv class\x3d"ui-column ui-column-fit ui-datepicker-next"\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'next\'})"\x3e\t\t\t\x3ci class\x3d"fas fa-chevron-right"\x3e\x3c/i\x3e\t\t\x3c/div\x3e\t\x3c/div\x3e\t\x3cdiv class\x3d"ui-datepicker"\x3e\t\t\x3cdiv class\x3d"ui-datepicker-row"\x3e\t\t[%for(var j\x3d1; j\x3c\x3d 7; j++){%]\t\t\x3cdiv class\x3d"ui-datepicker-column"\x3e\t\t\t\x3cdiv class\x3d"ui-weekday"\x3e[%\x3d weekday.format({weekday:\'short\'}) %]\x3c/div\x3e\t\t\x3c/div\x3e\t\t[% weekday.tomorrow(); %]\t\t[%}%]\t\x3c/div\x3e\t[%for(var i\x3d1; i\x3c\x3d6; i++){%]    \x3cdiv class\x3d"ui-datepicker-row"\x3e        [%for(var j\x3d1; j\x3c\x3d 7; j++){%]        \x3cdiv class\x3d"ui-datepicker-column[%if(day.format({}) \x3d\x3d today.format({})){%] ui-today[%}%][%if(defaultDate \x26\x26 day.format({})\x3d\x3ddefaultDate.format({})){%] ui-selected[%}%][%if(day.format({month:\'numeric\',year:\'numeric\'})\t\t\t\t!\x3dviewDate.format({month:\'numeric\',year:\'numeric\'})){%] ui-disable[%}%] [%if((maxDate !\x3d null \x26\x26 maxDate.getTime() \x3c\x3d day.getTime()) || (minDate !\x3d null \x26\x26 minDate.getTime() \x3e\x3d day.getTime())){%] ui-disable ui-event-none[%}%]"\x3e\t\t\t\t\x3cdiv class\x3d"ui-day"\t\t\t\t\tonclick\x3d"f(event).datepicker({channel:\'[%\x3ddata.name%]\',what:\'select\',value:\'[%\x3dday.toISOString()%]\'})"\x3e\t\t\t\t\t[%\x3d day.getDate() %]\t\t\t\t\x3c/div\x3e\t\t\x3c/div\x3e\t\t[% day.tomorrow(); %]\t\t[%}%]\t\x3c/div\x3e\t[%}%]\x3c/div\x3e\x3c/div\x3e');
  function datepickerRender(container,json,callback){f().app().set("datepicker."+json.name,json);f(container).html(templatedatepicker({data:json}));if(typeof callback=="function")callback(container)}f().prototype().datepicker=function(container,json){json=json||{};if(container.constructor==={}.constructor){var command=container;var sender=this;f(".f-datepicker ."+command.channel).each(function(item){var datepicker=f().app().get("datepicker."+command.channel);var me=item;if(command.what=="prev"){var viewDate=
          new Date(datepicker.viewDate);datepicker.viewDate=viewDate.prevMonth().toISOString()}if(command.what=="next"){var viewDate=new Date(datepicker.viewDate);datepicker.viewDate=viewDate.nextMonth().toISOString()}if(command.what=="today")datepicker.viewDate=(new Date).toISOString();if(command.what=="defaultDate"){datepicker.defaultDate=command.value;datepicker.viewDate=command.value}if(command.what=="viewDate")datepicker.viewDate=command.value;if(command.what=="select"){datepicker.defaultDate=command.value;
          datepicker.viewDate=command.value;try{var target=sender.input.target;var formItem=f(item).closest(".f-form-item");if(formItem.items.length!=0){var date=new Date(command.value);date.setHours(12);date.setMinutes(0);date.setSeconds(0);formItem.find(".f-form-input-day").html(date.getDate());formItem.find(".f-form-input-month").html(date.getMonth()+1);formItem.find(".f-form-input-year").html(date.getFullYear());formItem.find(".f-form-input-hour").html(date.getHours());formItem.find(".f-form-input-minute").html(date.getMinutes());
  formItem.find(".f-form-datepicker-clean").removeClass("hide");f(item).closest(".f-form-box-datepicker").addClass("hide");f(item).closest(".form-modal").removeClass("form-modal-datepicker");sender.input.stopImmediatePropagation()}}catch(e){}f("datepicker").emit(command)}datepickerRender(item.parentElement,datepicker)})}else{if(!json.viewDate)json.viewDate=(new Date).toISOString();if(json.defaultDate)json.viewDate=json.defaultDate;datepickerRender(container,json,json.onready)}return this};var datepickerPlugin=
function(resolve,context){var item=f(context.div).find(".f_datepicker").item;if(item){var json=JSON.parse(item.innerText);json.onready=function(){f(context.div).uiRender(context.callback)};f(item).addClass("f-datepicker").datepicker(item,json).removeClass("f_datepicker")}else resolve(context)};f().uiPlugins().push(datepickerPlugin)})();